# سقيا - نظام إدارة توزيع المياه

## نظرة عامة
سقيا هو نظام ويب مبني باستخدام ASP.NET Core MVC، يهدف إلى تحسين وتنسيق عملية توزيع المياه في المناطق الريفية والمجتمعات المتضررة في ريف إدلب الجنوبي.

## المتطلبات
- .NET 8.0 SDK
- SQL Server (ISMAILABOOMAR\SQLEXPRESS)
- Visual Studio 2022 أو Visual Studio Code

## التثبيت والتشغيل

### 1. استنساخ المشروع
```bash
git clone [repository-url]
cd SuqiaWaterDistribution
```

### 2. استعادة الحزم
```bash
dotnet restore
```

### 3. تحديث قاعدة البيانات
```bash
dotnet ef database update
```

### 4. تشغيل المشروع
```bash
dotnet run
```

## بيانات الدخول الافتراضية

### المدير
- البريد الإلكتروني: admin@suqia.com
- كلمة المرور: Admin123!

## هيكل المشروع

### Models
- `ApplicationUser`: المستخدم الأساسي (يمتد من IdentityUser)
- `Customer`: الزبون
- `Driver`: السائق
- `Region`: المنطقة
- `Tank`: الخزان
- `TankRegion`: العلاقة بين الخزان والمنطقة
- `Order`: الطلب

### Controllers
- `HomeController`: الصفحة الرئيسية
- `AccountController`: تسجيل الدخول والتسجيل
- `CustomerController`: وظائف الزبون
- `DriverController`: وظائف السائق
- `AdminController`: وظائف الإدارة

### الأدوار (Roles)
- **Admin**: إدارة كاملة للنظام
- **Customer**: تقديم الطلبات وتتبعها
- **Driver**: استلام وتوصيل الطلبات

## الميزات الرئيسية

### للزبائن
- عرض الخزانات المتاحة في المنطقة
- تقديم طلبات جديدة
- تتبع حالة الطلبات
- تقييم الخدمة
- إلغاء الطلبات (قبل القبول)

### للسائقين
- عرض الطلبات المعينة
- بدء عملية التوصيل
- تأكيد التسليم
- تتبع الطلبات اليومية

### للإدارة
- إدارة الطلبات (قبول/رفض/تعيين سائق)
- إدارة الزبائن والسائقين
- إدارة المناطق والخزانات
- عرض الإحصائيات والتقارير
- لوحة تحكم شاملة

## قاعدة البيانات

### الجداول الرئيسية
- `AspNetUsers`: بيانات المستخدمين
- `Customers`: بيانات الزبائن
- `Drivers`: بيانات السائقين
- `Regions`: المناطق
- `Tanks`: الخزانات
- `TankRegions`: ربط الخزانات بالمناطق
- `Orders`: الطلبات

### البيانات الأولية
- 5 مناطق: البارة، كنصفرة، الفطيرة، معرة النعمان، سراقب
- 3 خزانات: الشفا، النور، الحياة
- ربط الخزانات بالمناطق

## التقنيات المستخدمة
- ASP.NET Core 8.0 MVC
- Entity Framework Core
- ASP.NET Core Identity
- SQL Server
- Bootstrap 5 (RTL)
- Font Awesome
- Chart.js (للإحصائيات)

## الأمان
- استخدام ASP.NET Core Identity للمصادقة
- تحكم في الوصول بناءً على الأدوار
- حماية من CSRF
- تشفير كلمات المرور

## الاستخدام

### تسجيل مستخدم جديد
1. انتقل إلى صفحة التسجيل
2. أدخل البيانات المطلوبة
3. اختر نوع المستخدم (زبون أو سائق)
4. اختر المنطقة

### تقديم طلب (للزبائن)
1. سجل الدخول كزبون
2. انتقل إلى "الخزانات"
3. اختر خزان واضغط "اطلب الآن"
4. حدد الكمية واضغط "إرسال الطلب"

### إدارة الطلبات (للإدارة)
1. سجل الدخول كمدير
2. انتقل إلى "إدارة الطلبات"
3. اقبل أو ارفض الطلبات الجديدة
4. عيّن سائق للطلبات المقبولة

## الدعم والمساهمة
لأي استفسارات أو مشاكل، يرجى التواصل مع فريق التطوير على الرقم التالي +30 693 764 6312
## الترخيص
هذا المشروع مخصص لأغراض إنسانية وخيرية.

